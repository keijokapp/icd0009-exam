<template>

  <h1>Orders</h1>

  <table class="table">
    <thead>
      <tr>
        <th>Items</th>
        <th>Price</th>
        <th>Delivery location</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr repeat.for="order of orders">
        <td>
          <ul>
            <li repeat.for="line of order.orderLines">${line.productName} - ${line.price / 100}
            <ul>
              <li repeat.for="addition of line.orderLineAdditions">${addition.productName} - ${addition.price / 100}</li>
            </ul>
            </li>
          </ul>
        </td>
        <td>
          ${order.price / 100}
        </td>
        <td>
          ${order.deliveryLocation}
        </td>
        <td>
          <select change.delegate="updateState(order, event)">
            <option value="0" selected="${order.state === 0 ? 'selected' : undefined}">Waiting</option>
            <option value="1" selected="${order.state === 1 ? 'selected' : undefined}">Paid</option>
            <option value="2" selected="${order.state === 2 ? 'selected' : undefined}">Process</option>
            <option value="3" selected="${order.state === 3 ? 'selected' : undefined}">Done</option>
          </select>
        </td>
      </tr>
    </tbody>
  </table>
</template>
